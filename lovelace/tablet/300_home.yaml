title: Home
type: panel
layout:
  width: 300
  max_cols: 3
badges: []
cards:
  - type: custom:layout-card
    layout_type: horizontal
    layout:
      width: 300
    cards:
      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:mini-graph-card
                height: 75
                font_size: 200
                hour24: true
                decimals: 1
                entities:
                  - sensor.street_thermometer_temperature
                color_thresholds:
                  - value: 0
                    color: "#CCE5FF"
                  - value: 10
                    color: "#66B2FF"
                  - value: 18
                    color: "#0080FF"
                  - value: 20
                    color: "#87c087"
                  - value: 21
                    color: "#389638"
                  - value: 24
                    color: "#FF9932"
                  - value: 25
                    color: "#FF8000"
                  - value: 26
                    color: "#ff0000"
              - type: weather-forecast
                entity: weather.yandex_pogoda
                show_forecast: false
          - type: vertical-stack
            cards:
              - type: custom:mini-graph-card
                height: 75
                decimals: 1
                hour24: true
                entities:
                  - sensor.street_thermometer_humidity
              - type: custom:compass-card
                indicator_sensors:
                  - sensor: weather.yandex_pogoda
                    attribute: wind_bearing
                    indicator:
                      type: arrow_inward
                value_sensors:
                  - sensor: sensor.yandex_pogoda_wind_speed
                header:
                  title:
                    value: Ветер
                    icon:
                    color: green # default color (for state is less than the lowest dynamic_style.bands.from_value)
                    dynamic_style:
                      sensor: sensor.yandex_pogoda_wind_speed
                      bands:
                        - from_value: 5
                          color: yellow
                        - from_value: 10
                          color: orange
                        - from_value: 15
                          color: red
                        - from_value: 20
                          color: purple
                compass:
                  circle:
                    color: green # default color (for state is less than the lowest dynamic_style.bands.from_value)
                    dynamic_style:
                      sensor: sensor.yandex_pogoda_wind_speed
                      bands:
                        - from_value: 5
                          color: yellow
                        - from_value: 10
                          color: orange
                        - from_value: 15
                          color: red
                        - from_value: 20
                          color: purple
                language: ru
      - type: vertical-stack
        cards:
          - type: custom:clock-weather-card
            entity: weather.yandex_pogoda
            title: Погода во Владивостоке
            sun_entity: sun.sun
            temperature_sensor: sensor.street_thermometer_temperature
            weather_icon_type: fill
            animated_icon: true
            forecast_rows: 24
            locale: ru
            time_format: 24
            date_pattern: ccc, d.MM.yy
            hide_today_section: false
            hide_forecast_section: false
            hide_clock: false
            hide_date: false
            hourly_forecast: true
            use_browser_time: true
      - type: vertical-stack
        cards:
          - type: entity-filter
            entities:
              - person.elena_vashchenko
              - person.yuri_vashchenko
              - person.svetlana_vashchenko
              - person.mikhail_vashchenko
              - person.oleg_vashchenko
              - person.galina_vashchenko
              - person.alexey_vashchenko
            state_filter:
              - home
            card:
              type: glance
              title: Пользователи дома
          - type: custom:button-card
            entity: select.domofon_mode
            name: "Состояние домофона"
            color_type: icon
            layout: icon_label
            label: >
              [[[
                var domofon_mode = states['select.domofon_mode'].state
                var translated = domofon_mode;
                switch (domofon_mode) {
                  case 'drop':
                    translated = 'Сбрасывать';
                    break;
                  case 'always':
                    translated = 'Открывать';
                    break;
                  case 'never':
                    translated = 'Не открывать';
                    break;
                  case 'once':
                    translated = 'Единожды';
                    break;
                }
                return 'Домофон: ' + translated;
              ]]]
            show_label: true
            show_name: false
            styles:
              card:
                - height: 100px
              label:
                - color: gray
                - font-size: 20px
                - justify-self: start
                - padding: 0px 5px
            state:
              - value: "drop"
                icon: mdi:lock
                styles:
                  label:
                    - color: red
              - value: "never"
                icon: mdi:lock
                styles:
                  label:
                    - color: red
              - value: "once"
                icon: mdi:lock-open-minus
                styles:
                  label:
                    - color: yellow
              - value: "always"
                icon: mdi:lock-open
                styles:
                  label:
                    - color: green
